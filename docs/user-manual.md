# AI Gallery 用户手册

本手册介绍如何使用 AI Gallery 管理您的 AI 生成图片。

## 目录

1. [普通用户指南](#普通用户指南)
2. [管理员指南](#管理员指南)

## 普通用户指南

### 注册账号

1. 访问网站首页
2. 点击右上角"注册"按钮
3. 填写用户名、邮箱和密码
4. 点击"注册"完成账号创建

### 登录系统

1. 点击右上角"登录"按钮
2. 输入用户名和密码
3. 点击"登录"进入系统

### 上传图片

1. 登录后点击导航栏的"上传"
2. 拖拽图片到上传区域或点击选择文件
3. 填写必要信息：
   - **提示词**：描述生成图片的提示词（必填）
   - **负面提示词**：不希望出现在图片中的内容（可选）
   - **AI模型**：选择生成图片的AI模型
   - **分类**：选择图片分类
4. 添加相关标签（可选）
5. 设置额外参数（可选）：
   - Steps：采样步数
   - CFG Scale：提示词相关性
   - Seed：随机种子
   - 其他自定义参数
6. 点击"上传作品"完成上传

### 浏览画廊

1. 在首页画廊中浏览所有图片
2. 使用搜索框搜索特定内容
3. 使用过滤器筛选：
   - 按分类筛选
   - 按AI模型筛选
   - 按标签筛选
4. 点击图片查看详细信息

### 查看图片详情

在图片详情页您可以：
- 查看高清图片
- 复制提示词
- 查看所有生成参数
- 查看图片分类和标签
- 编辑或删除自己的图片
- 基于此图创建新版本

### 版本控制

1. 在图片详情页点击"基于此图创作"
2. 系统会自动填充原图的所有参数
3. 修改提示词或参数
4. 上传新图片
5. 新图片会与原图建立版本关联

### 管理个人作品

1. 登录后只能看到自己的图片
2. 可以编辑自己上传的图片信息
3. 可以删除自己的图片
4. 可以选择是否同时删除 Alist 中的文件

## 管理员指南

### 初始化系统

1. 使用默认管理员账号登录：
   - 用户名：admin
   - 密码：admin123
2. 登录后立即修改密码
3. 配置 Alist 连接

### 配置 Alist

1. 登录管理后台
2. 进入"系统设置"
3. 配置 Alist：
   - URL：Alist 服务地址
   - 用户名：Alist 管理员账号
   - 密码：Alist 密码
   - 上传路径：图片存储路径
4. 点击"测试连接"验证配置

### 管理用户

1. 进入"用户管理"
2. 查看所有用户列表
3. 可以修改用户角色：
   - 普通用户：只能管理自己的图片
   - 管理员：拥有所有权限
4. 可以激活/禁用用户账号

### 管理分类

1. 进入"分类管理"
2. 可以：
   - 添加新分类
   - 编辑分类名称和描述
   - 删除分类（可选择合并到其他分类）
3. 默认分类包括：
   - 风景
   - 人物
   - 二次元
   - 抽象
   - 建筑
   - 动物
   - 科幻

### 管理标签

1. 进入"标签管理"
2. 可以：
   - 添加新标签
   - 编辑标签名称和描述
   - 删除标签（可选择合并到其他标签）
   - 清理未使用的标签
3. 查看每个标签下的图片数量

### 管理 AI 模型

1. 进入"模型管理"
2. 可以：
   - 添加新的AI模型
   - 编辑模型名称和描述
   - 删除模型（可选择合并到其他模型）
3. 预设模型包括：
   - Stable Diffusion 5.0
   - DALL-E 4.0
   - MidJourney V6.1
   - Seedream 4.0
   - 混元图像 3.0
   - HiDream-I1
   - Imagen 3
   - Nano Banana
   - 即梦 4.0

### 查看统计信息

在管理仪表板可以查看：
- 用户总数
- 图片总数
- 分类数量
- 标签数量
- 模型数量
- 最近上传的图片

### 数据管理

1. 备份数据库：
   ```bash
   docker-compose exec backend python -m app.utils.backup
   ```
2. 清理未使用的资源：
   - 清理未使用的标签
   - 删除无效的图片记录

### 系统维护

1. 定期更新系统
2. 监控存储空间使用情况
3. 定期备份数据
4. 查看系统日志排查问题

## 常见问题

### Q: 忘记密码怎么办？

A: 联系管理员重置密码。

### Q: 上传的图片有大小限制吗？

A: 默认限制为 10MB，可在配置文件中修改。

### Q: 可以批量上传图片吗？

A: 目前不支持批量上传，但可以逐个上传多张图片。

### Q: 如何修改已上传图片的信息？

A: 点击图片进入详情页，然后点击"编辑"按钮。

### Q: 图片上传后可以修改分类吗？

A: 可以，在编辑图片时可以修改分类、标签等所有信息。

### Q: 版本历史会保存多久？

A: 版本历史永久保存，除非删除相关图片。

### Q: 管理员可以看到所有用户的图片吗？

A: 是的，管理员可以查看、编辑和管理所有用户的图片。

### Q: 如何导出我的图片数据？

A: 联系管理员申请数据导出。